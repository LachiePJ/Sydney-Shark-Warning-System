"use strict";(()=>{var e={};e.id=926,e.ids=[926],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6005:e=>{e.exports=require("node:crypto")},1051:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>C,patchFetch:()=>m,requestAsyncStorage:()=>h,routeModule:()=>A,serverHooks:()=>w,staticGenerationAsyncStorage:()=>x});var o={};t.r(o),t.d(o,{GET:()=>p,OPTIONS:()=>d,dynamic:()=>c,revalidate:()=>u});var s=t(9303),n=t(8716),a=t(670),i=t(7070),l=t(9499);let c="force-dynamic",u=0;async function p(e){try{let{searchParams:r}=new URL(e.url),t=r.get("zone"),o=new l.D,s=await o.calculateAllZoneRisks();if(t){let e=s.find(e=>e.zoneId===t);if(!e)return i.NextResponse.json({error:`Zone '${t}' not found`},{status:404});return i.NextResponse.json(e,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, OPTIONS","Access-Control-Allow-Headers":"Content-Type","Cache-Control":"public, s-maxage=1800, stale-while-revalidate=3600"}})}return i.NextResponse.json({zones:s,timestamp:new Date().toISOString()},{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, OPTIONS","Access-Control-Allow-Headers":"Content-Type","Cache-Control":"public, s-maxage=1800, stale-while-revalidate=3600"}})}catch(e){return console.error("Error in /api/risk:",e),i.NextResponse.json({error:"Failed to calculate risk"},{status:500})}}async function d(){return new i.NextResponse(null,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, OPTIONS","Access-Control-Allow-Headers":"Content-Type"}})}let A=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/risk/route",pathname:"/api/risk",filename:"route",bundlePath:"app/api/risk/route"},resolvedPagePath:"/Users/lox/SharkWarningSystem/app/api/risk/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:h,staticGenerationAsyncStorage:x,serverHooks:w}=A,C="/api/risk/route";function m(){return(0,a.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:x})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[276,311,972,499],()=>t(1051));module.exports=o})();